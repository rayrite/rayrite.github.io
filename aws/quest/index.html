<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS MCQ Practice - Comprehensive Edition</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-top">
                <h1>AWS MCQ Practice</h1>
                <div class="stats">
                    <span id="totalQuestions">Loading...</span>
                    <span id="totalCategories">Loading...</span>
                    <span id="totalDomains">Loading...</span>
                </div>
            </div>
            <div class="dataset-selector">
                <label for="datasetSelect">Current Dataset (for Browser):</label>
                <select id="datasetSelect"></select>
                <button id="viewTablesBtn" style="display:none;">View Tables</button>
            </div>
        </header>

        <div class="tabs">
            <button class="tab-button active" data-tab="browse">Question Browser</button>
            <button class="tab-button" data-tab="quiz">Quiz Mode</button>
        </div>

        <!-- Question Browser Tab -->
        <div id="browseTab" class="tab-content active">
            <div class="controls">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Search questions...">
                </div>
                <div class="filter-container">
                    <select id="domainFilter">
                        <option value="">All Domains</option>
                    </select>
                </div>
                <div class="filter-container">
                    <select id="categoryFilter">
                        <option value="">All Categories</option>
                    </select>
                </div>
            </div>
            <div id="questionsList" class="questions-list">
                <!-- Questions will be populated here by JS -->
            </div>
        </div>

        <!-- Quiz Mode Tab -->
        <div id="quizTab" class="tab-content">
            <div id="quizSetup" class="quiz-setup">
                <h3>Quiz Setup</h3>
                <div class="quiz-options">
                    <div class="option-group">
                        <label for="timeLimit">Time Limit per Question (seconds):</label>
                        <input type="number" id="timeLimit" min="10" max="300" value="90">
                    </div>
                
                    <div class="option-group">
                        <label for="quizKeywords">Keywords (comma-separated, optional):</label>
                        <input type="text" id="quizKeywords" placeholder="e.g., S3, DynamoDB, Lambda, storage, compute">
                    </div>
                    
                    <div class="option-group">
                        <label>Select Exam Datasets:</label>
                        <div class="datasets-container">
                            <div class="dataset-checkbox-group" id="datasetCheckboxGroup">
                                <!-- Checkboxes will be populated here by JS -->
                            </div>
                            <div class="dataset-actions">
                                <button type="button" class="dataset-action-btn" onclick="app.selectAllDatasets()">Select All</button>
                                <button type="button" class="dataset-action-btn" onclick="app.selectNoneDatasets()">Select None</button>
                                <button type="button" class="dataset-action-btn" onclick="app.selectCurrentDataset()">Current Only</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-group">
                        <label for="quizDomain">Domain:</label>
                        <select id="quizDomain">
                            <option value="">All Domains</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <label for="quizCategory">Category:</label>
                        <select id="quizCategory">
                            <option value="">All Categories</option>
                        </select>
                    </div>
                    
                    <div class="option-group">
                        <label for="questionCount">Number of Questions:</label>
                        <input type="number" id="questionCount" min="1" max="100" value="10">
                    </div>
                    
                    <div class="option-group">
                        <label for="multichoiceRatio">Minimum % Multichoice Questions:</label>
                        <input type="number" id="multichoiceRatio" min="0" max="100" value="30" 
                               title="Percentage of questions that should have multiple correct answers">
                    </div>
                    
                    <div class="option-group">
                        <button id="startQuiz" class="start-quiz-btn">Start Quiz</button>
                    </div>
                </div>
            </div>
            
            <div class="quiz-container" id="quizContainer">
                <div class="quiz-header">
                    <span id="questionNumber">Question 1 of 10</span>
                    <span id="timer">01:30</span>
                    <span id="quizInfo"></span>
                    <button id="endQuiz" class="end-quiz-btn">End Quiz</button>
                </div>
                <div class="quiz-question" id="quizQuestion">
                    <!-- Quiz question content will be rendered here -->
                </div>
                <div class="quiz-actions" id="quizActions">
                     <button id="checkAnswer" class="show-answer-btn">Check Answer</button>
                     <button id="nextQuestion" class="next-question-btn" style="display: none;">Next Question</button>
                </div>
                <div class="answer-section" id="answerSection" style="display: none;">
                    <!-- Correct answer and explanation will be shown here -->
                </div>
            </div>
            
            <div id="scoreReport" class="tab-content">
                <!-- Score report will be generated here by JS -->
            </div>
        </div>
    </div>

    <!-- Table Modal for displaying dynamic tables -->
    <div id="tableModal" class="table-modal">
        <div class="table-modal-content">
            <div class="table-modal-header">
                <h3 id="tableModalTitle">Table Data</h3>
                <button id="closeTableModal" class="close-modal-btn">&times;</button>
            </div>
            <div id="tableModalBody" class="table-modal-body">
                <!-- Dynamic table will be inserted here by JS -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>