<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS CLF-C02 Exam Simulator</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="overlay"></div>

    <div id="sidePanel" class="side-panel">
        <div class="side-panel-header">
            <h3>Menu</h3>
            <button id="closeSidePanel" class="close-panel-btn">&times;</button>
        </div>
        <div class="side-panel-content">
            <nav id="mobileNav" class="tab-navigation mobile">
                <button id="examTabMobile" class="tab-button active">Exam</button>
                <button id="reviewTabMobile" class="tab-button">Review</button>
            </nav>
            <div id="mobileTimerControls" class="timer-controls mobile">
                 <div class="global-timer">
                    <h3>Global Timer</h3>
                    <div id="globalTimerMobile" class="timer-display">90:00</div>
                    <div class="timer-buttons">
                        <button id="startGlobalTimerMobile">Start</button>
                        <button id="pauseGlobalTimerMobile">Pause</button>
                        <button id="stopGlobalTimerMobile">Stop</button>
                        <button id="resetGlobalTimerMobile">Reset</button>
                    </div>
                </div>
            </div>
            <div id="examLegendMobile" class="exam-legend mobile">
                <div class="legend-key">
                    <span>Key:</span>
                    <span class="legend-item"><span class="legend-dot not-visited"></span> Not Visited</span>
                    <span class="legend-item"><span class="legend-dot visited"></span> Visited</span>
                    <span class="legend-item"><span class="legend-dot answered"></span> Answered</span>
                </div>
                <div id="examLegendDotsMobile" class="exam-legend-dots">
                    <!-- Clickable dots will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="header-top">
                <button id="hamburgerMenu" class="hamburger-menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <h1>AWS CLF-C02 Exam Simulator</h1>
                <div class="timer-controls desktop">
                    <div class="global-timer">
                        <h3>Global Timer</h3>
                        <div id="globalTimer" class="timer-display">90:00</div>
                        <div class="timer-buttons">
                            <button id="startGlobalTimer">Start</button>
                            <button id="pauseGlobalTimer">Pause</button>
                            <button id="stopGlobalTimer">Stop</button>
                            <button id="resetGlobalTimer">Reset</button>
                        </div>
                    </div>
                    <div class="question-timer">
                        <h3>Question Timer</h3>
                        <div id="questionTimer" class="timer-display">01:30</div>
                    </div>
                </div>
                 <div class="header-mobile-info">
                    <div id="mobileGlobalTimer" class="timer-display">90:00</div>
                    <div id="mobileQuestionTimer" class="timer-display">01:30</div>
                    <div id="mobileQuestionCounter" class="question-counter"></div>
                </div>
            </div>
            <div id="examLegend" class="exam-legend desktop">
                <div class="legend-key">
                    <span>Key:</span>
                    <span class="legend-item"><span class="legend-dot not-visited"></span> Not Visited</span>
                    <span class="legend-item"><span class="legend-dot visited"></span> Visited</span>
                    <span class="legend-item"><span class="legend-dot answered"></span> Answered</span>
                </div>
                <div id="examLegendDots" class="exam-legend-dots"></div>
            </div>
        </header>

        <nav class="tab-navigation desktop">
            <button id="examTab" class="tab-button active">Exam</button>
            <button id="reviewTab" class="tab-button">Review</button>
        </nav>

        <main>
            <div id="examContent" class="tab-content active">
                <div id="examControls" class="exam-controls">
                    <div id="modeSelection" class="mode-selection">
                        <h3 class="mode-select-title">Select Your Mode:</h3>
                        <div class="mode-buttons">
                            <button id="modeExam" class="mode-button active" data-mode="exam">Exam Mode</button>
                            <button id="modeStudy" class="mode-button" data-mode="study">Study Mode</button>
                        </div>
                        <p id="modeDescription" class="mode-description">Timed exam simulation with a final score.</p>
                    </div>
                    <div class="exam-control-buttons">
                        <button id="startSessionButton" class="start-exam-button">Start Session</button>
                    </div>
                    <div id="examStatus" class="exam-status">
                        <p>The exam will consist of 65 questions with a 90-minute time limit.</p>
                    </div>
                </div>

                <div id="examInterface" class="exam-interface" style="display: none;">
                    <div class="exam-header">
                        <div class="question-counter desktop-counter">
                            <span id="currentQuestion">1</span> / <span id="totalQuestions">65</span>
                        </div>
                        <div class="exam-progress">
                            <div id="progressBar" class="progress-bar">
                                <div id="progressFill" class="progress-fill"></div>
                            </div>
                        </div>
                        <div class="exam-controls-active">
                            <button id="prevQuestion" class="nav-button">Previous</button>
                            <button id="checkAnswer" class="check-answer-button" style="display: none;">Check Answer</button>
                            <button id="nextQuestion" class="nav-button">Next</button>
                            <button id="finishExam" class="finish-button" style="display: none;">Finish</button>
                            <button id="pauseResumeExam" class="pause-resume-button">Pause</button>
                            <button id="stopExam" class="stop-exam-button">Stop Exam</button>
                        </div>
                    </div>

                    <div class="question-container">
                        <div id="questionContent" class="question-content">
                            <h2 id="questionText">Loading questions...</h2>
                            <div id="questionOptions" class="question-options"></div>
                            <div id="instantFeedback" class="instant-feedback" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="reviewContent" class="tab-content">
                <div class="review-header">
                    <h2>Exam Results</h2>
                    <div id="scoreDisplay" class="score-display">
                        <div class="score-circle">
                            <span id="scorePercentage">0%</span>
                        </div>
                        <div class="score-details">
                            <p>Score: <span id="correctAnswers">0</span> / <span id="totalAnswered">0</span></p>
                            <p>Time Taken: <span id="totalTime">00:00</span></p>
                        </div>
                    </div>

                    <div id="timeStats" class="time-stats">
                        <h3>Time Statistics</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-label">Avg. Time / Question</span>
                                <span id="avgTime" class="stat-value">--:--</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Min. Time on a Question</span>
                                <span id="minTime" class="stat-value">--:--</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Max. Time on a Question</span>
                                <span id="maxTime" class="stat-value">--:--</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Median Time</span>
                                <span id="medianTime" class="stat-value">--:--</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- FIX: Added the export button here -->
                    <button id="exportResults" class="export-button">Export Results</button>
                </div>

                <div id="reviewQuestions" class="review-questions"></div>
            </div>
        </main>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
