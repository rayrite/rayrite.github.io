<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Card Carousel</title>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center" x-data="imageCarousel()">
    <div class="w-full max-w-4xl overflow-x-auto">
        <div class="flex space-x-4 p-4 items-end">
            <template x-for="(card, index) in cards" :key="index">
                <div :class="`flex-shrink-0 ${index === 0 ? 'w-44 h-52' : 'w-40 h-48'} rounded-lg ${index === 0 ? 'p-0.5 bg-yellow-400' : ''}`">
                    <div class="h-full bg-blue-600 rounded-lg overflow-hidden flex flex-col">
                        <template x-if="index === 0">
                            <div class="bg-yellow-400 text-black text-xs font-bold py-0.5 px-2 text-center">
                                Rank #1
                            </div>
                        </template>
                        
                        <div class="p-2 text-center bg-blue-700">
                            <h3 class="text-white text-sm font-semibold" x-text="card.title"></h3>
                        </div>

                        <div class="flex-grow relative">
                            <div :class="`absolute inset-0 ${index === 0 ? 'border-2 border-blue-700 rounded' : ''}`">
                            </div>

                            <div :class="`${tallyLabelPlacement === 0 ? 'absolute bottom-1 right-1' : 'absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2'} ${tallyColors[index]} rounded-full w-6 h-6 flex items-center justify-center`">
                                <span class="text-white text-xs font-bold" x-text="card.tally"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </div>

    <div class="mt-4 text-center">
        <button @click="toggleTallyPlacement" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Toggle Tally Placement
        </button>
    </div>

    <script>
        function imageCarousel() {
            return {
                cards: [
                    { title: "Card 1", tally: 5 },
                    { title: "Card 2", tally: 3 },
                    { title: "Card 3", tally: 7 },
                    { title: "Card 4", tally: 2 },
                    { title: "Card 5", tally: 6 }
                ],
                tallyColors: [
                    'bg-green-500',
                    'bg-blue-500',
                    'bg-red-500',
                    'bg-purple-500',
                    'bg-yellow-500'
                ],
                tallyLabelPlacement: 0,
                toggleTallyPlacement() {
                    this.tallyLabelPlacement = 1 - this.tallyLabelPlacement;
                }
            }
        }
    </script>
</body>
</html>
